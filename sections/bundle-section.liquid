document.addEventListener("DOMContentLoaded", function () { const addToCartAddons =
document.querySelectorAll('.add-ons-cont');

const cart = document.querySelector('cart-drawer');

addToCartAddons.forEach((addOn) => { addOn.addEventListener("click", (event) => { event.preventDefault();

const productId = addOn.dataset.id; if (addOn.classList.contains('product-selected')) { return; }

fetch("/cart/add.js", { method: "post", headers: { 'Content-Type': 'application/json', }, body: JSON.stringify({ id:
productId, quantity: 1, sections: cart.getSectionsToRender().map((section) => section.id) }),

}) .then((response) => { return response.json(); }) .then((response) => { cart.renderContents(response);
addOn.classList.add('product-selected'); }) .catch((error) => { console.error('Error:', error); }) .finally(() => { if
(cart && cart.classList.contains('is-empty')) cart.classList.remove('is-empty'); }); }); }); });
